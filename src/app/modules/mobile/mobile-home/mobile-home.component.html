<!-- src/app/modules/mobile/mobile-home/mobile-home.component.html -->
<div class="mobile-home">

    <!-- Header -->
    <div class="mobile-header">
        <div class="header-left">
            <div class="app-logo">SMS</div>
            <div>
                <div class="app-name">SMSystem</div>
                <div class="app-sub">Sistema de Gestión Escolar</div>
            </div>
        </div>
        <button class="btn-logout" (click)="logout()" title="Cerrar sesión">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                <polyline points="16 17 21 12 16 7" />
                <line x1="21" y1="12" x2="9" y2="12" />
            </svg>
        </button>
    </div>

    <!-- Fecha y hora -->
    <div class="datetime-block">
        <div class="time-display">{{ currentTime() }}</div>
        <div class="date-display">{{ dateLabel }} · Turno {{ turno }}</div>
    </div>

    <!-- Resumen del día -->
    <div class="summary-card">
        <div class="summary-title">RESUMEN DEL DÍA</div>
        @if (loading()) {
        <div class="summary-loading">
            @for (i of [1,2,3]; track i) {
            <div class="summary-skeleton"></div>
            }
        </div>
        } @else if (summary(); as s) {
        <div class="summary-grid">
            <div class="summary-item">
                <span class="summary-value entry">{{ s.entradas }}</span>
                <span class="summary-label">Entradas</span>
            </div>
            <div class="summary-item">
                <span class="summary-value inside">{{ s.studentsInside }}</span>
                <span class="summary-label">Alumnos dentro</span>
            </div>
            <div class="summary-item">
                <span class="summary-value staff">{{ s.staffInside }}</span>
                <span class="summary-label">Personal dentro</span>
            </div>
            <div class="summary-item">
                <span class="summary-value late warn">{{ s.retiros }}</span>
                <span class="summary-label">Retiros</span>
            </div>
            <div class="summary-item">
                <span class="summary-value exit">{{ s.salidas }}</span>
                <span class="summary-label">Salidas</span>
            </div>
            <div class="summary-item">
                <span class="summary-value absent danger">{{ s.ausentes }}</span>
                <span class="summary-label">Ausentes</span>
            </div>
        </div>
        }
    </div>

    <!-- Botones de acción -->
    <div class="action-buttons">
        @for (m of modes; track m.mode) {
        <button class="action-btn" [style.--btn-color]="m.color" [style.--btn-bg]="m.bg" (click)="openScanner(m.mode)">
            <div class="action-btn-left">
                <span class="action-icon">{{ m.icon }}</span>
                <span class="action-label">{{ m.label }}</span>
            </div>
            <div class="action-btn-right">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                    <polyline points="9 18 15 12 9 6" />
                </svg>
            </div>
        </button>
        }
    </div>

    <!-- Footer -->
    <div class="mobile-footer">
        <span>{{ userName() || 'Usuario' }}</span>
        <span class="footer-dot">·</span>
        <span>Colegio San José</span>
    </div>

</div>